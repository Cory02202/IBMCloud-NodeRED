<!-- Table of Contents -->

- [開発・実行環境準備](#開発・実行環境準備)
    - [Node-RED 用リソース追加](#Node-RED-用リソース追加)
        - [IBM Cloud にログイン](#IBM-Cloud-にログイン)
        - [Node-RED App の検索](#Node-RED-App-の検索)
        - [アプリの作成](#アプリの作成)
        - [IBM Cloud API 鍵設定](#IBM-Cloud-API-鍵設定)
    - [Node-RED デプロイ](#Node-RED-デプロイ)
        - [アプリのデプロイ](#アプリのデプロイ)
- [Node-RED 設定](#Node-RED-設定)
    - [URLアクセス](#URLアクセス)    
    - [セットアップ](#セットアップ)
- [Node-RED 実行](#Node-RED-実行)
    - [トップ画面](#トップ画面)
    - [ログイン](#ログイン)
    - [フローエディター](#フローエディター)
<!-- Table of Contents -->

## 開発・実行環境準備
### Node-RED 用リソース追加
#### IBM Cloud にログイン <br>
ログイン画面でユーザパスワードを入力すると「ダッシュボード」が表示されます。 <br>
「リソースの追加」ボタンをクリックし、カタログ画面を表示します。
![](./img/010.png)


#### Node-RED App の検索 <br>
[カタログを検索...] と表示されているエリアに `node-red` と入力します。すると、`Node-RED App` の候補が表示されるのでクリックします。
![](./img/030.png)

#### アプリの作成 <br>
Node-RED アプリの作成画面が表示されます。内容を確認したうえで、画面上部「作成」タブをクリックします
![](./img/040.png)

Node-RED アプリを設定します。「アプリ名」の欄には任意のアプリケーション名を入力します。＜サービス詳細＞の「リージョンは「ダラス」を選択します。設定が終ったら「作成」ボタンをクリックします。
![](./img/060.png)

アプリ作成が完了するまで１分ほど待ちます
![](./img/070.png)

### Node-RED デプロイ

#### アプリのデプロイ <br>
アプリの作成が完了すると、「アプリの詳細」画面に切り替わります。画面下部の「アプリのデプロイ」ボタンがクリックできるようになるまで、２～３分ほど待ちます
![](./img/080.png)

「アプリのデプロイ」ボタンが有効になったら、クリックします。
![](./img/090.png)

#### IBM Cloud API 鍵設定 <br>
＜デプロイメント自動化画面＞で `IBM Cloud API 鍵` を設定します。入力欄の右にある「新規＋」ボタンをクリックします。
![](./img/100.png)

＜API 鍵作成のダイアログ＞が表示されるので、`OK` ボタンをクリックし API 鍵を作成します。
![](./img/110.png)

＜デプロイメント自動化画面＞に戻るので、画面最下部の「次へ」ボタンが有効になるのを待ってからクリックします。
![](./img/120.png)

＜DevOpps ツールチェーンの構成＞画面で、画面下部の「作成」ボタンをクリックします。
![](./img/130.png)

＜アプリの詳細＞画面に戻るので、画面下部「デプロイメント自動化」の <状況ステータス>が **成功** になるまで、５分ほど待ちます。
![](./img/140.png)
![](./img/160.png)

## Node-RED 設定

#### URLアクセス <br>
Node-RED の準備が整っているので、画面左上の「ハンバーガーメニュ」から `ダッシュボード` を選択します。
![](./img/170.png)

＜ダッシュボード＞で、`Cloud Foundry アプリ` をクリックします。
![](./img/200.png)

＜リソース・リスト＞画面で、Node-RED のアプリを選択します。
![](./img/210.png)

Cloud Foundry アプリ 詳細画面で、画面上にある `アプリURLにアクセス` をクリックします。
![](./img/220.png)

#### セットアップ<br>

Node-RED アプリが別ウインドウ（別タブ）で表示されます。画面下部の「Next」ボタンをクリックします。
![](./img/300.png)

Node-RED にログインするための、ユーザ名とパスワードを設定します。ユーザ認証無しで利用することも可能ですが、だれもがプログラムフローを編集できる状態になってしまうので、ユーザパスワードを設定することをオススメします。
![](./img/310.png)

ノードの追加について説明が表示されるので、画面下部の「Next」ボタンをクリックします。
![](./img/320.png)

Node-RED のセットアップ完了と、ユーザパスワードの変更に関する説明が表示されます。内容を確認したうえで画面下部の「Finish」ボタンをクリックします。
![](./img/330.png)

## Node-RED 実行

#### トップ画面
しばらく待つと Node-RED のトップ画面が表示されます。「Go to your Node-RED flow Editor」ボタンをクリックします。
![](./img/350.png)

#### ログイン
2ode-RED のログイン画面が表示されるので、セットアップ時に設定したユーザパスワードを入力し、「ログイン」ボタンをクリックします。
![](./img/360.png)

#### フローエディター
Node-RED フローエディターが表示されます。Node-RED のステキな世界をお楽しみくださいっ！
![](./img/370.png)

